@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>@ViewData["Title"] | Dentist</title>
    <link rel="icon" type="image/x-icon" href="/image-removebg-preview (7).png">
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.css"/>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@@mdi/font@6.9.96/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="~/Hospital_Management.styles.css" asp-append-version="true"/>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700;900&family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" rel="stylesheet">

</head>
<body style="overflow-x: hidden">
<header>
    <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow">
        <div class="container-fluid">
            <img src="/images/Picture1.svg" style="max-height: 40px" class="me-2"/>
            <a class="navbar-brand" asp-area="" asp-controller="Home" asp-action="Index"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                <ul class="navbar-nav flex-grow-1">

                    @* @if (!ViewData.TryGetValue("Patient", out var patient)) *@
                    @* { *@
                    @*     // Not Patient. *@
                    @*     $1$ <li class="nav-item"> #1# *@
                    @*     $1$     <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index"> #1# *@
                    @*     $1$         <svg style="width:24px;height:24px" viewBox="0 0 24 24"> #1# *@
                    @*     $1$             <path fill="currentColor" d="M21 11.11V5C21 3.9 20.11 3 19 3H14.82C14.4 1.84 13.3 1 12 1S9.6 1.84 9.18 3H5C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H11.11C12.37 22.24 14.09 23 16 23C19.87 23 23 19.87 23 16C23 14.09 22.24 12.37 21 11.11M12 3C12.55 3 13 3.45 13 4S12.55 5 12 5 11 4.55 11 4 11.45 3 12 3M6 7H18V9H6V7M9.08 17H6V15H9.08C9.03 15.33 9 15.66 9 16S9.03 16.67 9.08 17M6 13V11H11.11C10.5 11.57 10.04 12.25 9.68 13H6M16 21C13.24 21 11 18.76 11 16S13.24 11 16 11 21 13.24 21 16 18.76 21 16 21M16.5 16.25L19.36 17.94L18.61 19.16L15 17V12H16.5V16.25Z"/> #1# *@
                    @*     $1$         </svg> Patient History #1# *@
                    @*     $1$     </a> #1# *@
                    @*     $1$ </li> #1# *@
                    @* } *@
                    @* else if (patient is Patient) *@
                    @* { *@
                    @*     // Patient *@
                    @*     <li class="nav-item"> *@
                    @*         <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a> *@
                    @*     </li> *@
                    @*     <li class="nav-item"> *@
                    @*         <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">About Us</a> *@
                    @*     </li> *@
                    @*     <li class="nav-item"> *@
                    @*         <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Services</a> *@
                    @*     </li> *@
                    @*     <li class="nav-item"> *@
                    @*         <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Smile Makeovers</a> *@
                    @*     </li> *@
                    @*     <li class="nav-item"> *@
                    @*         <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Appointment</a> *@
                    @*     </li> *@
                    @*     <li class="nav-item"> *@
                    @*         <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Message</a> *@
                    @*     </li> *@
                    @* } *@

                    @if (!SignInManager.IsSignedIn(User))
                    {
                        // Patient
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/aboutus">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/services">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/smile-makeovers">Smile Makeovers</a>
                        </li>
                    }
                    else if (User.IsInRole("Patient"))
                    {
                        <li class="nav-item">
                            <a class="nav-link text-dark" asp-area="" asp-controller="Home" asp-action="Index">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/aboutus">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/services">Services</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/smile-makeovers">Smile Makeovers</a>
                        </li>
                        
                        <li class="nav-item">
                            <a class="nav-link text-dark" href="/patient-messages"><i class="bi bi-chat-dots"></i> View Chats</a>
                        </li>
                        @* <li class="nav-item"> *@
                        @*     <a class="nav-link text-dark" href="/patient-messages"><i class="bi bi-pencil-square"></i> Edit Profile</a> *@
                        @* </li> *@
                        @* <li class="nav-item"> *@
                        @*     <a class="nav-link text-dark" href="/patient-messages"><i class="bi bi-credit-card-2-back-fill"></i> History</a> *@
                        @* </li> *@
                    }
                </ul>
                <partial name="_LoginPartial"/>
            </div>
        </div>
    </nav>
</header>

@* <div class="position-fixed fixed-bottom end-0 d-flex flex-row-reverse" style="pointer-events: none"> *@
@*     <button class="rounded-5 btn-success btn m-4" style="pointer-events: all"> *@
@*         <i class="bi bi-chat-fill"></i> Chat *@
@*     </button> *@
@* </div> *@

@if (User.IsInRole("Admin"))
{
    <div class="container-fluid row p-0">
        <div class="col-4 col-md-2 container-fluid bg-dark text-white" style="min-height:  100vh">
            <a href="/" class="d-flex align-items-center m-4 me-md-auto text-white text-decoration-none">
                <i class="bi bi-pencil-square me-2"></i>
                <span class="h4">Administrator</span>
            </a>

            <ul class="nav nav-pills flex-column mb-auto navbar-dark">
                <li class="nav-item text-white m-3">
                    <a href="/" class="nav-link text-white"><i class="bi bi-house me-2"></i> Dashboard</a>
                </li>
                <li class="nav-item text-white m-3">
                    <a href="/register" class="nav-link text-white"><i class="bi bi-person-fill-add" me-2></i> Register Dentist</a>
                </li>
                <li class="nav-item text-white m-3">
                    <a href="/patients" class="nav-link text-white"><i class="bi bi-people me-2"></i> Patients</a>
                </li>
                <li class="nav-item text-white m-3">
                    <a href="/dentists" class="nav-link text-white"><i class="bi bi-file-earmark-image-fill me-2"></i> Dentist Images</a>
                </li>
                <li class="nav-item text-white m-3">
                    <a href="/messages" class="nav-link text-white"><i class="bi bi-chat-dots me-2"></i> Messages</a>
                </li>
            </ul>
        </div>
        <div class="col-8 col-md-10 p-0">
            @RenderBody()
        </div>
    </div>
}
else if (User.IsInRole("Dentist"))
{
    <div class="container-fluid row p-0">
        <div class="col-5 col-md-3 container-fluid bg-dark text-white pb-4" style="min-height:  100vh">
            <a href="/" class="d-flex align-items-center m-4 me-md-auto text-white text-decoration-none">
                <svg style="width:24px;height:24px" viewBox="0 0 24 24">
                    <path fill="currentColor" d="M14.84,16.26C17.86,16.83 20,18.29 20,20V22H4V20C4,18.29 6.14,16.83 9.16,16.26L12,21L14.84,16.26M8,8H16V10A4,4 0 0,1 12,14A4,4 0 0,1 8,10V8M8,7L8.41,2.9C8.46,2.39 8.89,2 9.41,2H14.6C15.11,2 15.54,2.39 15.59,2.9L16,7H8M12,3H11V4H10V5H11V6H12V5H13V4H12V3Z"/>
                </svg>

                <span class="h4">Dentist</span>
            </a>

            <ul class="nav nav-pills flex-column mb-auto navbar-dark">
                <li class="nav-item text-white m-3">
                    <a href="/dentist-dashboard" class="nav-link text-white"><i class="bi bi-house me-2"></i> Appointments</a>
                </li>
                <li class="nav-item text-white m-3">
                    <a href="/doctor-patients" class="nav-link text-white"><i class="bi bi-person-fill-add me-2"></i> Patients</a>
                </li>
                <li class="nav-item text-white m-3">
                    <a href="/doctor-invoice" class="nav-link text-white"><i class="bi bi-people me-2"></i> Invoice</a>
                </li>
                @* <li class="nav-item text-white m-3"> *@
                @*     <a href="/appointment-details" class="nav-link text-white"><i class="bi bi-file-earmark-image-fill me-2"></i> Appointment Details</a> *@
                @* </li> *@
                @* <li class="nav-item text-white m-3"> *@
                @*     <a href="/dentist-notification" class="nav-link text-white"><i class="bi bi-chat-dots me-2"></i> Notification</a> *@
                @* </li> *@
            </ul>
        </div>
        <div class="col-7 col-md-9 p-0">
            @RenderBody()
        </div>
    </div>
}
else if (User.IsInRole("Patient"))
{
    @await Html.PartialAsync("Notifications")
    <div class="container p-0">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>
}
else
{
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <footer class="border-top footer text-muted">
        <div class="container">
            &copy; @DateTime.Now.Year - Dentist World Manila
        </div>
    </footer>
}
<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
@await RenderSectionAsync("Scripts", required: false)
</body>
</html>